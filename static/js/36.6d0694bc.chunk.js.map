{"version":3,"sources":["pages/NewRequestForm.js"],"names":["NewRequestForm","props","buttonLabel","className","_useState","useState","_useState2","Object","C_Users_YAZHI_Documents_Karsha_depo_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","modal","setModal","toggle","_useState3","localStorage","getItem","_useState4","userToken","_useStateValue","useStateValue","_useStateValue2","C_Users_YAZHI_Documents_Karsha_depo_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_0__","_useState5","_useState6","depocode","setDepocode","_useState7","_useState8","containerno","setContainerNo","_useState9","_useState10","purpose","setPurpose","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","for","reactstrap__WEBPACK_IMPORTED_MODULE_6__","type","name","id","onChange","e","target","value","disabled","react_router_dom__WEBPACK_IMPORTED_MODULE_13__","to","reactstrap__WEBPACK_IMPORTED_MODULE_7__","color","style","float","onClick","preventDefault","axios","post","querystring","stringify","containerpurpose","headers","Content-Type","sessiontoken","then","data","console","log","catch","checkRequest","reactstrap__WEBPACK_IMPORTED_MODULE_8__","isOpen","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","username","message","history","push","alert","sendRequest"],"mappings":"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","file":"static/js/36.6d0694bc.chunk.js","sourcesContent":["import React, { Component, useState } from 'react'\r\nimport { Button, Form, FormGroup, Label, Input, FormText, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport './CustomerRequest.css'\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport querystring from 'querystring';\r\nimport { useStateValue } from '../components/utility/stateProvider';\r\nimport {actionTypes} from '../components/utility/reducer';\r\n\r\n\r\nfunction NewRequestForm(props) {\r\n\r\n  const {\r\n    buttonLabel,\r\n    className\r\n  } = props;\r\n\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const toggle = () => setModal(!modal);\r\n  const [userToken, setUserToken] = useState(localStorage.getItem(\"user_token\"))\r\n    const [{}, dispatch] = useStateValue();\r\n\r\n     const [depocode,setDepocode] = useState(\"\");\r\n     const [containerno,setContainerNo] = useState(\"\");\r\n     const [purpose,setPurpose] = useState(\"Estimate / Inspection\");\r\n\r\n     const checkRequest = (e) => {\r\n       e.preventDefault();\r\n       setModal(!modal)\r\n           axios\r\n            .post(\r\n              \"http://18.134.0.153:3200/container/customerrequestforcontainerinfo\",\r\n              querystring.stringify({\r\n                depocode : depocode,\r\n               containerno: containerno,\r\n               containerpurpose: purpose\r\n              }),\r\n              {\r\n                headers: {\r\n                  \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                  \"sessiontoken\": userToken\r\n                },\r\n              }\r\n            )\r\n            .then((data) => {\r\n              // setLoadedData(data.data.results);\r\n              console.log(data);\r\n              \r\n              // props.history.push(\"/customerrequest\");\r\n          //     alert(data.data.message)\r\n              \r\n            })\r\n            .catch(() => {\r\n              console.log(\"errorrrrrrrr\")\r\n            });\r\n        };\r\n\r\n\r\n        const sendRequest = (e) => {\r\n          e.preventDefault();\r\n          setModal(!modal)\r\n              axios\r\n               .post(\r\n                 \"http://18.134.0.153:3200/container/customerreqestforcontainer\",\r\n                 querystring.stringify({\r\n                  username : localStorage.getItem(\"userName\"),\r\n                  containerno: containerno,\r\n                  depocode: depocode,\r\n                  containerpurpose: purpose\r\n                 }),\r\n                 {\r\n                   headers: {\r\n                     \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                     \"sessiontoken\": userToken\r\n                   },\r\n                 }\r\n               )\r\n               .then((data) => {\r\n                 // setLoadedData(data.data.results);\r\n                 console.log(data);\r\n                 if(data.data.message === \"request for container successfully sent to depo\"){\r\n                  props.history.push(\"/customerrequest\");\r\n                  alert(data.data.message)\r\n                 } else {\r\n                  alert(data.data.message)\r\n                 }\r\n                //  props.history.push(\"/customerrequest\");\r\n             //     alert(data.data.message)\r\n                 \r\n               })\r\n               .catch(() => {\r\n                 console.log(\"errorrrrrrrr\")\r\n               });\r\n           };\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n        <h2 className=\"text-center\">New Request Container Form</h2>\r\n        <Form>\r\n        <FormGroup>\r\n         <Label for=\"deponame\">Depo Code</Label>\r\n             <Input type=\"text\" name=\"deponame\" id=\"deponame\"  onChange={(e) => setDepocode(e.target.value)} >\r\n            \r\n             </Input>\r\n        </FormGroup>\r\n        <FormGroup>\r\n         <Label for=\"containerno\">Container Number</Label>\r\n             <Input type=\"text\" name=\"containerno\" id=\"containerno\"  onChange={(e) => setContainerNo(e.target.value)} >\r\n             </Input>\r\n        </FormGroup>\r\n        <FormGroup>\r\n            <Label for=\"purpose\">Purpose</Label>\r\n             <Input type=\"select\" name=\"purpose\" id=\"purpose\"  onChange={(e) => setPurpose(e.target.value)}>\r\n                  <option disabled>Please Select the Purpose</option>\r\n                  <option value=\"Estimate / Inspection\">Estimate / Inspection</option>\r\n                  <option value=\"Pre-Repair Survey\">Pre-Repair Survey</option>\r\n                  <option value=\"Post-Repair Survey\">Post-Repair Survey</option>\r\n                  <option value=\"Onhire Survey\">Onhire Survey</option>\r\n                  <option value=\"Offhire Survey\">Offhire Survey</option>\r\n                  <option value=\"Sale conition\">Sale conition</option>\r\n                  <option value=\"General / Other\">General / Other</option>\r\n             </Input>\r\n        </FormGroup>\r\n        <div className=\"buttons\">\r\n        <Link to={'/customerrequest'}><Button color=\"primary\" style={{float : 'left'}}>Back</Button>{' '}</Link>\r\n        <Button color=\"primary\" style={{float : 'right'}} onClick={(e) => checkRequest(e)}>Submit</Button>{' '}\r\n        <Modal isOpen={modal} toggle={toggle} className={className}>\r\n        <ModalHeader toggle={toggle}>Request Confirmation</ModalHeader>\r\n        <ModalBody>\r\n         Container Number : {containerno}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={(e) => sendRequest(e)}>Send Request</Button>{' '}\r\n        </ModalFooter>\r\n      </Modal>\r\n        </div>\r\n        </Form>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default NewRequestForm\r\n\r\n"],"sourceRoot":""}